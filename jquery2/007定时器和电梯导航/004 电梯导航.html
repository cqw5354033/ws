<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src='../jquery-1.11.3.min.js'></script>
    <style>
        *{
            margin: 0;
            padding: 0;
            list-style: none;
        }
        body{
            height: 10000px;
        }
        .nav-wrap{
            width: 100%;
            height: 50px;
            background: rgba(0,0,0,.5);
            position: fixed;
            left: 0;
            top: 0;
            display: none;
        }
        .nav{
            width: 1200px;
            height: 50px;
            margin: 0 auto;
        }
        .nav ul li{
            float: left;
            text-align: center;
        }
        .nav ul li.active{
            background: rgba(68,138,255,.8);
        }
        .nav ul li a{
            box-sizing: border-box;
            width: 120px;
            height: 50px;
            line-height: 50px;
            display: block;
            color: white;
            text-decoration: none;
            border-right: 1px solid #ccc;
        }
        .top{
            height: 1000px;
            background: red;
            width: 1200px;
            margin: 0 auto;
        }
        .main div{
            width: 1200px;
            height: 600px;
            margin: 60px auto 0;
            font-size: 50px;
            color: white;
        }
    </style>
    <script>
        $(function(){
            $(window).scroll(function(){
//                当滚动的距离大于等于Java盒子的距离时就显示，否则消失
                if($(window).scrollTop() >= $('.main .java').offset().top-50){
                    $('.nav-wrap').show();
                }else{
                    $('.nav-wrap').hide();
                }

//                第一种
//                for(var i=0;i<10;i++){
//                    if($(window).scrollTop() >= $('.main div').eq(i).offset().top-50){
//                        $('.nav li').eq(i).addClass('active').siblings().removeClass('active');
//                    }
//                }

//                第二种
                $('.main div').each(function(index,element){
                    if($(window).scrollTop() >= $(element).offset().top-50){
                        $('.nav li').eq(index).addClass('active').siblings().removeClass('active');
                    }
                })


            });
            $('.nav ul li').click(function(){
//                $(this).addClass('active').siblings().removeClass('active');

//                单击哪个li，找到对应索引值的楼层div，然后在计算该楼层距离顶部的距离，最后用动画滚动到该位置
                var divT = $('.main div').eq($(this).index()).offset().top-50;
                $('html,body').stop().animate({'scrollTop':divT+'px'},500)
            });
        })
    </script>
</head>
<body>
<div class="nav-wrap">
    <div class="nav">
        <ul>
            <li>
                <a href="##">JavaEE</a>
            </li>
            <li>
                <a href="##">Android</a>
            </li>
            <li>
                <a href="##">PHP</a>
            </li>
            <li>
                <a href="##">UI设计</a>
            </li>
            <li>
                <a href="##">IOS</a>
            </li>
            <li>
                <a href="##">前端与应用开发</a>
            </li>
            <li>
                <a href="##">C/C++</a>
            </li>
            <li>
                <a href="##">网络营销</a>
            </li>
            <li>
                <a href="##">Python</a>
            </li>
            <li>
                <a href="##" style="border: 0">云计算与大数据</a>
            </li>
        </ul>
    </div>
</div>
<div class="top">
    <h1>头部</h1>
</div>
<div class="main">
    <div style="background: #ccc" class="java">java</div>
    <div style="background: yellow" class="Android">Android</div>
    <div style="background: green" class="PHP">PHP</div>
    <div style="background: blue" class="UI">UI</div>
    <div style="background: black" class="IOS">IOS</div>
    <div style="background: pink" class="H5">H5</div>
    <div style="background: grey" class="C">C</div>
    <div style="background: gold" class="net">net</div>
    <div style="background: yellowgreen" class="Python">Python</div>
    <div style="background: palegreen" class="cal">cal</div>
</div>
</body>
</html>