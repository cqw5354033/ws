<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<!-- 可以巧妙的利用script标签实现跨域 -->
	<script src='https://cdn.bootcss.com/jquery/3.2.1/jquery.js'></script>
	
</head>
<body>
	航班查询：<input id="input1" type="text"><button id="btn1" onclick="search();">点击查询</button>
	<p id="p1"></p>
	<script>
		var input1=document.getElementById('input1');
		var head=document.getElementsByTagName('head')[0];
		var p1=document.getElementById('p1');
		//数据处理函数
		function data_cl(data){
			//展示给用户
			var data_str='您查询好航班号码为'+data.flightId+'该航班的价格为'+data.price;
			p1.innerHTML=data_str;

		}
		function search(){
			//发送请求 把用户填写的航班号发送给服务器
			//创建标签
			var elescript=document.createElement('script');
			//拼凑发送的地址
			var url_str='http://127.0.0.1/js/002/flightResult.php?code='+input1.value+'&&callback=data_cl';
			//把地址给标签
			elescript.setAttribute('src',url_str);
			//发送请求
			head.appendChild(elescript);
			//我们让服务返回一个函数调用的结构  前端提前把要处理的逻辑封装到这个函数里
		}
	</script>
</body>
</html>